<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Artikel & Blog - KeREN Travel & Tour</title>
    <meta name="description" content="Baca artikel, tips perjalanan, dan berita terbaru seputar travel dari KeREN Travel">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap');
        
        * {
            font-family: 'Poppins', sans-serif;
        }
        
        html {
            scroll-behavior: smooth;
        }
        
        .hero-artikel {
            background: linear-gradient(rgba(10, 26, 68, 0.85), rgba(10, 26, 68, 0.9)), 
                        url('https://images.unsplash.com/photo-1455849318743-b2233052fcff?w=1600');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }
        
        .glass {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        
        .float {
            animation: float 3s ease-in-out infinite;
        }
        
        .whatsapp-float {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 100;
            animation: float 3s ease-in-out infinite;
        }
        
        #mobile-menu {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        
        #mobile-menu.show {
            max-height: 500px;
        }
        
        .gradient-text {
            background: linear-gradient(135deg, #F6D372 0%, #D9A441 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .empty-state {
            animation: fadeIn 1s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .category-btn {
            transition: all 0.3s ease;
        }
        
        .category-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(246, 211, 114, 0.3);
        }
        
        .category-btn.active {
            background: linear-gradient(135deg, #F6D372 0%, #D9A441 100%);
            color: white;
        }

        nav {
    transition: background-color 0.3s ease, backdrop-filter 0.3s ease;
}

nav.scrolled {
    background: rgba(10, 26, 68, 0.95) !important;
    backdrop-filter: blur(10px);
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

#ai-chat-messages {
        scrollbar-width: thin;
        scrollbar-color: #cbd5e1 #f1f5f9;
    }
    #ai-chat-messages::-webkit-scrollbar {
        width: 6px;
    }
    #ai-chat-messages::-webkit-scrollbar-track {
        background: #f1f5f9;
    }
    #ai-chat-messages::-webkit-scrollbar-thumb {
        background: #cbd5e1;
        border-radius: 3px;
    }
    .ai-typing-indicator span {
        animation: ai-blink 1.4s infinite;
    }
    .ai-typing-indicator span:nth-child(2) {
        animation-delay: 0.2s;
    }
    .ai-typing-indicator span:nth-child(3) {
        animation-delay: 0.4s;
    }
    @keyframes ai-blink {
        0%, 60%, 100% { opacity: 0.3; }
        30% { opacity: 1; }
    }
    .ai-quick-btn {
        transition: all 0.2s;
    }
    .ai-quick-btn:hover {
        transform: translateY(-2px);
    }
    /* Float Buttons - Mobile Optimization */
@media (max-width: 640px) {
    .fixed.bottom-4.right-4 {
        bottom: 1rem;
        right: 1rem;
    }
    
    /* Ensure buttons don't overlap with mobile browser UI */
    @supports (padding-bottom: env(safe-area-inset-bottom)) {
        .fixed.bottom-4.right-4 {
            bottom: calc(1rem + env(safe-area-inset-bottom));
        }
    }
}

/* Chat Window Mobile Fixes */
#aiChatWindow {
    transition: all 0.3s ease;
}

@media (max-width: 640px) {
    #aiChatWindow {
        bottom: 0 !important;
        right: 0 !important;
        left: 0 !important;
        width: 100% !important;
        height: 100% !important;
        max-height: 100vh !important;
        border-radius: 0 !important;
        margin: 0 !important;
    }
    
    /* Make close button more accessible on mobile */
    #aiCloseChat {
        padding: 0.75rem;
    }
}

/* Prevent body scroll when chat is open on mobile */
body.chat-open {
    overflow: hidden;
}

@media (min-width: 641px) {
    body.chat-open {
        overflow: auto;
    }
}
    </style>
        <script>
            window.addEventListener('scroll', function() {
        const navbar = document.querySelector('nav');
        if (window.scrollY > 50) {
            navbar.classList.add('scrolled');
        } else {
            navbar.classList.remove('scrolled');
        }
    });
        </script>
</head>
<body class="bg-gray-50">
    
    <div class="fixed bottom-4 right-4 z-50 flex flex-col-reverse gap-3 items-end">
        <!-- Floating AI Chat Button -->
        <button id="aiChatToggle" class="bg-gradient-to-r from-yellow-400 to-yellow-500 hover:from-yellow-500 hover:to-yellow-600 text-gray-900 rounded-full p-3 sm:p-4 shadow-2xl transition-all duration-300 transform hover:scale-110 relative">
            <svg class="w-6 h-6 sm:w-7 sm:h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"></path>
            </svg>
            <span class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold animate-pulse">AI</span>
        </button>
    
        <!-- WhatsApp Float Button -->
        <a href="https://wa.me/6282372404544?text=Halo%20KeREN%20Travel,%20saya%20ingin%20bertanya%20tentang%20layanan%20travel" 
           target="_blank" 
           class="bg-green-500 text-white p-3 sm:p-4 rounded-full shadow-2xl hover:bg-green-600 transition-all transform hover:scale-110">
            <svg class="w-6 h-6 sm:w-8 sm:h-8" fill="currentColor" viewBox="0 0 24 24">
                <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/>
            </svg>
        </a>
    </div>
    
    <!-- AI Chat Window -->
    <div id="aiChatWindow" class="fixed bottom-4 right-4 w-[calc(100vw-2rem)] sm:w-96 h-[calc(100vh-2rem)] sm:h-[600px] max-h-[600px] bg-white rounded-2xl shadow-2xl hidden flex-col overflow-hidden border-2 border-yellow-400 z-50">
        <!-- Header -->
        <div class="bg-gradient-to-r from-yellow-400 to-yellow-500 text-gray-900 p-4 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-lg">
                    <svg class="w-6 h-6 text-yellow-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
                    </svg>
                </div>
                <div>
                    <h3 class="font-bold text-lg">Asisten KeREN Travel</h3>
                    <p class="text-xs text-gray-800 flex items-center">
                        <span class="w-2 h-2 bg-green-500 rounded-full mr-1 animate-pulse"></span>
                        Online - Smart Assistant
                    </p>
                </div>
            </div>
            <button id="aiCloseChat" class="hover:bg-yellow-600 rounded-lg p-2 transition">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>
        </div>
    
        <!-- Messages Container -->
        <div id="ai-chat-messages" class="flex-1 overflow-y-auto p-4 space-y-4 bg-gradient-to-br from-gray-50 to-yellow-50">
            <!-- Welcome Message -->
            <div class="flex gap-3">
                <div class="w-8 h-8 bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-full flex items-center justify-center flex-shrink-0">
                    <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                    </svg>
                </div>
                <div class="bg-white rounded-2xl rounded-tl-none p-4 shadow-md max-w-[80%] border border-yellow-200">
                    <p class="text-sm text-gray-800 font-medium">Halo! üëã Saya asisten KeREN Travel.</p>
                    <p class="text-sm text-gray-600 mt-2">Saya siap membantu Anda dengan:</p>
                    <ul class="text-xs text-gray-600 mt-2 space-y-1 ml-4">
                        <li>‚úàÔ∏è Info rute & harga travel</li>
                        <li>üöê Layanan door to door</li>
                        <li>üìç Destinasi wisata Sumatera</li>
                        <li>üì¶ Pengiriman paket</li>
                    </ul>
                    <p class="text-xs text-yellow-600 mt-3 font-semibold">Silakan pilih atau ketik pertanyaan! üòä</p>
                </div>
            </div>
            
            <!-- Quick Action Buttons -->
            <div id="aiQuickButtons" class="flex flex-col gap-2 px-2">
                <button class="ai-quick-btn bg-white hover:bg-yellow-50 border-2 border-yellow-200 rounded-xl p-3 text-left text-sm font-medium text-gray-700 shadow-sm">
                    üìç Lihat Rute & Harga
                </button>
                <button class="ai-quick-btn bg-white hover:bg-yellow-50 border-2 border-yellow-200 rounded-xl p-3 text-left text-sm font-medium text-gray-700 shadow-sm">
                    üöê Layanan Door to Door
                </button>
                <button class="ai-quick-btn bg-white hover:bg-yellow-50 border-2 border-yellow-200 rounded-xl p-3 text-left text-sm font-medium text-gray-700 shadow-sm">
                    üì¶ Kirim Paket
                </button>
                <button class="ai-quick-btn bg-white hover:bg-yellow-50 border-2 border-yellow-200 rounded-xl p-3 text-left text-sm font-medium text-gray-700 shadow-sm">
                    üí¨ Cara Booking
                </button>
            </div>
        </div>
    
        <!-- Input Area -->
        <div class="border-t-2 border-yellow-200 p-4 bg-white">
            <form id="aiChatForm" class="flex gap-2">
                <input 
                    type="text" 
                    id="aiUserInput" 
                    placeholder="Ketik pertanyaan Anda..."
                    class="flex-1 border-2 border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent text-sm"
                    autocomplete="off"
                >
                <button 
                    type="submit" 
                    id="aiSendBtn"
                    class="bg-gradient-to-r from-yellow-400 to-yellow-500 hover:from-yellow-500 hover:to-yellow-600 text-gray-900 rounded-xl px-5 py-3 transition-all transform hover:scale-105 flex items-center justify-center font-bold shadow-lg"
                >
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
                    </svg>
                </button>
            </form>
        
        </div>
    
        <!-- Input Area -->
    <div class="border-t-2 border-yellow-200 p-4 bg-white">
        <!-- Tombol Minimize khusus mobile - letakkan SEBELUM form -->
        <button id="aiMinimizeBtn" class="sm:hidden w-full mb-3 bg-gray-100 text-gray-700 py-2 rounded-lg font-medium hover:bg-gray-200 transition flex items-center justify-center gap-2">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
            Tutup Chat
        </button>
        
        <form id="aiChatForm" class="flex gap-2">
            <!-- form content tetap sama -->
        </form>
        <p class="text-xs text-gray-500 mt-2 text-center">Atau hubungi langsung: <a href="https://wa.me/6282372404544" class="text-yellow-600 font-semibold hover:underline">WhatsApp</a></p>
    </div>
    </div>

    <!-- Navbar -->
    <nav class="fixed top-0 w-full z-50 glass border-b border-white/20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-lg flex items-center justify-center font-bold text-white text-xl">K</div>
                    <span class="text-white font-bold text-xl">KeREN Travel</span>
                </div>
                <ul class="hidden md:flex space-x-8 text-white text-sm font-medium">
                    <li><a href="../index.html" class="hover:text-yellow-400 transition">Beranda</a></li>
                    <li><a href="./services.html" class="hover:text-yellow-400 transition">Layanan</a></li>
                    <li><a href="./routeprice.html" class="hover:text-yellow-400 transition">Rute & Harga</a></li>
                    <li><a href="./contact.html" class="hover:text-yellow-400 transition">Kontak</a></li>
                    <li><a href="./about.html" class="hover:text-yellow-400 transition">Tentang Kami</a></li>
                    <li><a href="#" class="hover:text-yellow-400 transition">Artikel</a></li>
                </ul>
                <a href="https://wa.me/6282372404544" target="_blank" 
                   class="hidden md:block bg-yellow-400 text-gray-900 px-6 py-2 rounded-full font-semibold hover:bg-yellow-500 transition">
                    Pesan Sekarang
                </a>
                <button id="menu-toggle" class="md:hidden text-white">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                    </svg>
                </button>
            </div>
            <div id="mobile-menu" class="md:hidden text-white pb-4">
                <a href="../index.html" class="block py-2 hover:text-yellow-400">Beranda</a>
                <a href="./services.html" class="block py-2 hover:text-yellow-400">Layanan</a>
                <a href="./routeprice.html" class="block py-2 hover:text-yellow-400">Rute & Harga</a>
                <a href="./contact.html" class="block py-2 hover:text-yellow-400">Kontak</a>
                <a href="./about.html" class="block py-2 hover:text-yellow-400">Tentang Kami</a>
                <a href="#" class="block py-2 hover:text-yellow-400">Artikel</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-artikel min-h-[60vh] flex items-center justify-center relative">
        <div class="text-center text-white px-4 pt-20">
            <div class="flex justify-center items-center gap-2 mb-6 text-gray-300">
                <a href="../index.html" class="hover:text-yellow-400 transition">Home</a>
                <span>‚Ä∫</span>
                <span class="text-yellow-400">Artikel</span>
            </div>
            <h1 class="text-5xl md:text-6xl font-bold mb-4">Artikel & <span class="gradient-text">Blog</span></h1>
            <p class="text-xl text-gray-300 max-w-2xl mx-auto">Tips perjalanan, berita terbaru, dan informasi menarik seputar travel</p>
        </div>
    </section>

    <!-- Search & Filter Section -->
    <section class="py-12 bg-white border-b border-gray-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <!-- Search Bar -->
            <div class="max-w-2xl mx-auto mb-8">
                <div class="relative">
                    <input type="text" 
                           placeholder="Cari artikel..." 
                           class="w-full px-6 py-4 rounded-full border-2 border-gray-300 focus:border-yellow-400 focus:outline-none pl-14 text-lg">
                    <svg class="w-6 h-6 absolute left-5 top-1/2 transform -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                    </svg>
                </div>
            </div>

            <!-- Category Filter -->
            <div class="flex flex-wrap justify-center gap-3">
                <button class="category-btn active px-6 py-2 rounded-full border-2 border-yellow-400 text-gray-700 font-semibold">
                    Semua
                </button>
                <button class="category-btn px-6 py-2 rounded-full border-2 border-gray-300 text-gray-700 font-semibold hover:border-yellow-400">
                    Tips Perjalanan
                </button>
                <button class="category-btn px-6 py-2 rounded-full border-2 border-gray-300 text-gray-700 font-semibold hover:border-yellow-400">
                    Destinasi
                </button>
                <button class="category-btn px-6 py-2 rounded-full border-2 border-gray-300 text-gray-700 font-semibold hover:border-yellow-400">
                    Berita
                </button>
                <button class="category-btn px-6 py-2 rounded-full border-2 border-gray-300 text-gray-700 font-semibold hover:border-yellow-400">
                    Promo
                </button>
            </div>
        </div>
    </section>

    <!-- Empty State Section -->
    <section class="py-20 bg-gradient-to-br from-gray-50 to-gray-100">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="empty-state bg-white rounded-3xl shadow-2xl p-12 md:p-16 text-center">
                <!-- Icon -->
                <div class="w-32 h-32 bg-gradient-to-br from-yellow-100 to-orange-100 rounded-full flex items-center justify-center mx-auto mb-8">
                    <svg class="w-16 h-16 text-yellow-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"/>
                    </svg>
                </div>

                <!-- Text -->
                <h2 class="text-4xl font-bold text-gray-900 mb-4">Artikel Segera Hadir!</h2>
                <p class="text-xl text-gray-600 mb-8 max-w-2xl mx-auto">
                    Kami sedang menyiapkan konten-konten menarik untuk Anda. Nantikan tips perjalanan, 
                    panduan destinasi, dan artikel-artikel bermanfaat lainnya!
                </p>

                <!-- Stats -->
                <div class="grid md:grid-cols-3 gap-6 mb-12">
                    <div class="bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-2xl border-2 border-blue-200">
                        <div class="text-4xl font-bold text-blue-600 mb-2">0</div>
                        <div class="text-gray-700 font-semibold">Artikel</div>
                    </div>
                    <div class="bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-2xl border-2 border-purple-200">
                        <div class="text-4xl font-bold text-purple-600 mb-2">0</div>
                        <div class="text-gray-700 font-semibold">Kategori</div>
                    </div>
                    <div class="bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-2xl border-2 border-green-200">
                        <div class="text-4xl font-bold text-green-600 mb-2">Soon</div>
                        <div class="text-gray-700 font-semibold">Update</div>
                    </div>
                </div>

                <!-- CTA -->
                <div class="space-y-4">
                    <p class="text-gray-600 font-semibold">Ingin tahu lebih dulu saat artikel baru terbit?</p>
                    <a href="https://wa.me/6282372404544?text=Halo%20KeREN%20Travel,%20saya%20ingin%20mendapat%20update%20artikel" 
                       target="_blank"
                       class="inline-flex items-center gap-3 bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-8 py-4 rounded-full font-bold text-lg hover:from-yellow-500 hover:to-orange-600 transition transform hover:scale-105 shadow-xl">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/>
                        </svg>
                        Hubungi Kami via WhatsApp
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Coming Soon Features -->
    <section class="py-20 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <span class="text-yellow-500 font-semibold text-sm">YANG AKAN DATANG</span>
                <h2 class="text-4xl font-bold text-gray-900 mt-2 mb-4">Konten yang Akan Kami Hadirkan</h2>
                <p class="text-gray-600 text-lg max-w-3xl mx-auto">
                    Berikut adalah beberapa topik menarik yang akan kami bahas di blog KeREN Travel
                </p>
            </div>

            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Feature 1 -->
                <div class="bg-gradient-to-br from-blue-50 to-blue-100 p-8 rounded-2xl border-2 border-blue-200 text-center">
                    <div class="w-16 h-16 bg-blue-500 rounded-xl flex items-center justify-center mx-auto mb-6 text-3xl text-white">
                        üó∫Ô∏è
                    </div>
                    <h3 class="text-2xl font-bold text-gray-900 mb-3">Panduan Destinasi</h3>
                    <p class="text-gray-600">
                        Rekomendasi tempat wisata terbaik di Sumatera dengan tips lengkap
                    </p>
                </div>

                <!-- Feature 2 -->
                <div class="bg-gradient-to-br from-purple-50 to-purple-100 p-8 rounded-2xl border-2 border-purple-200 text-center">
                    <div class="w-16 h-16 bg-purple-500 rounded-xl flex items-center justify-center mx-auto mb-6 text-3xl text-white">
                        üí°
                    </div>
                    <h3 class="text-2xl font-bold text-gray-900 mb-3">Tips Perjalanan</h3>
                    <p class="text-gray-600">
                        Cara membuat perjalanan Anda lebih nyaman, aman, dan hemat
                    </p>
                </div>

                <!-- Feature 3 -->
                <div class="bg-gradient-to-br from-green-50 to-green-100 p-8 rounded-2xl border-2 border-green-200 text-center">
                    <div class="w-16 h-16 bg-green-500 rounded-xl flex items-center justify-center mx-auto mb-6 text-3xl text-white">
                        üéâ
                    </div>
                    <h3 class="text-2xl font-bold text-gray-900 mb-3">Promo & Update</h3>
                    <p class="text-gray-600">
                        Informasi promo spesial dan update layanan terbaru dari kami
                    </p>
                </div>

                <!-- Feature 4 -->
                <div class="bg-gradient-to-br from-orange-50 to-orange-100 p-8 rounded-2xl border-2 border-orange-200 text-center">
                    <div class="w-16 h-16 bg-orange-500 rounded-xl flex items-center justify-center mx-auto mb-6 text-3xl text-white">
                        üì∏
                    </div>
                    <h3 class="text-2xl font-bold text-gray-900 mb-3">Cerita Perjalanan</h3>
                    <p class="text-gray-600">
                        Pengalaman seru pelanggan dan tim kami selama perjalanan
                    </p>
                </div>

                <!-- Feature 5 -->
                <div class="bg-gradient-to-br from-red-50 to-red-100 p-8 rounded-2xl border-2 border-red-200 text-center">
                    <div class="w-16 h-16 bg-red-500 rounded-xl flex items-center justify-center mx-auto mb-6 text-3xl text-white">
                        üì∞
                    </div>
                    <h3 class="text-2xl font-bold text-gray-900 mb-3">Berita Travel</h3>
                    <p class="text-gray-600">
                        Kabar terbaru seputar dunia transportasi dan pariwisata
                    </p>
                </div>

                <!-- Feature 6 -->
                <div class="bg-gradient-to-br from-yellow-50 to-yellow-100 p-8 rounded-2xl border-2 border-yellow-200 text-center">
                    <div class="w-16 h-16 bg-yellow-500 rounded-xl flex items-center justify-center mx-auto mb-6 text-3xl text-white">
                        ‚ùì
                    </div>
                    <h3 class="text-2xl font-bold text-gray-900 mb-3">FAQ & Tutorial</h3>
                    <p class="text-gray-600">
                        Panduan lengkap cara booking dan menggunakan layanan kami
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Newsletter Section -->
    <section class="py-20 bg-gradient-to-br from-gray-900 to-gray-800 text-white">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <div class="w-24 h-24 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-8 text-5xl">
                üìß
            </div>
            <h2 class="text-4xl font-bold mb-4">Jangan Lewatkan Update Kami!</h2>
            <p class="text-xl text-gray-300 mb-8 max-w-2xl mx-auto">
                Jadilah yang pertama tahu saat artikel baru terbit. Hubungi kami via WhatsApp untuk mendapatkan notifikasi!
            </p>
            
            <a href="https://wa.me/6282372404544?text=Halo%20KeREN%20Travel,%20saya%20ingin%20mendapat%20update%20artikel%20terbaru" 
               target="_blank"
               class="inline-flex items-center gap-3 bg-green-500 text-white px-8 py-4 rounded-full font-bold text-lg hover:bg-green-600 transition transform hover:scale-105 shadow-xl">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/>
                </svg>
                Subscribe via WhatsApp
            </a>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid md:grid-cols-4 gap-8 mb-8">
                <div>
                    <div class="flex items-center space-x-3 mb-4">
                        <div class="w-10 h-10 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-lg flex items-center justify-center font-bold text-xl">K</div>
                        <span class="font-bold text-xl">KeREN Travel</span>
                    </div>
                    <p class="text-gray-400 text-sm">Solusi perjalanan terpercaya untuk kenyamanan dan keamanan Anda</p>
                </div>
                
                <div>
                    <h4 class="font-bold mb-4">Layanan</h4>
                    <ul class="space-y-2 text-sm text-gray-400">
                        <li><a href="services.html" class="hover:text-yellow-400 transition">Travel Antar Kota</a></li>
                        <li><a href="services.html" class="hover:text-yellow-400 transition">Door to Door</a></li>
                        <li><a href="services.html" class="hover:text-yellow-400 transition">Pengiriman Paket</a></li>
                        <li><a href="services.html" class="hover:text-yellow-400 transition">Charter Mobil</a></li>
                    </ul></div>
                
                    <div>
                        <h4 class="font-bold mb-4">Informasi</h4>
                        <ul class="space-y-2 text-sm text-gray-400">
                            <li><a href="about.html" class="hover:text-yellow-400 transition">Tentang Kami</a></li>
                            <li><a href="#" class="hover:text-yellow-400 transition">Rute & Harga</a></li>
                            <li><a href="#" class="hover:text-yellow-400 transition">Syarat & Ketentuan</a></li>
                            <li><a href="#" class="hover:text-yellow-400 transition">FAQ</a></li>
                        </ul>
                    </div>
                    
                    <div>
                        <h4 class="font-bold mb-4">Kontak</h4>
                        <ul class="space-y-2 text-sm text-gray-400">
                            <li>üì± 0823-7240-4544</li>
                            <li>üìß info@kerentravel.com</li>
                            <li>üìç Medan, Sumatera Utara</li>
                            <li class="pt-2">
                                <a href="https://wa.me/6282372404544" target="_blank" class="inline-block bg-green-500 text-white px-4 py-2 rounded-lg text-xs font-semibold hover:bg-green-600 transition">
                                    üí¨ Chat WhatsApp
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
                
                <div class="border-t border-gray-800 pt-8 text-center text-sm text-gray-400">
                    <p>&copy; 2024 KeREN Travel & Tour. All rights reserved.</p>
                </div>
            </div>
        </footer>
    
        <!-- Mobile Menu Script -->
        <script>
            document.getElementById('menu-toggle').addEventListener('click', function() {
                const menu = document.getElementById('mobile-menu');
                menu.classList.toggle('show');
            });
    
            // Category Filter
            const categoryBtns = document.querySelectorAll('.category-btn');
            
            categoryBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    categoryBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                });
            });

            (function() {
    // Knowledge Base - Database jawaban chatbot
    const knowledgeBase = {
        // Greeting
        greeting: {
            patterns: ['hai', 'halo', 'hi', 'hello', 'hei', 'hey', 'pagi', 'siang', 'sore', 'malam', 'selamat'],
            responses: [
                "Halo! üëã Selamat datang di KeREN Travel! Ada yang bisa saya bantu hari ini?",
                "Hai! üòä Senang bisa membantu Anda. Mau tanya tentang travel atau booking?",
                "Halo! Saya asisten KeREN Travel siap membantu perjalanan Anda! üöê"
            ]
        },
        
        // Rute & Harga
        rute: {
            patterns: ['rute', 'tujuan', 'kemana', 'ke mana', 'jurusan', 'jalur', 'trayek', 'pergi', 'berangkat'],
            responses: [
                "Kami melayani berbagai rute di Sumatera:\n\nüó∫Ô∏è SUMATERA BARAT:\n‚Ä¢ Medan ‚Üí Padang\n‚Ä¢ Medan ‚Üí Bukittinggi\n‚Ä¢ Medan ‚Üí Payakumbuh\n‚Ä¢ Medan ‚Üí Pasaman\n\nüåä RIAU:\n‚Ä¢ Medan ‚Üí Pekanbaru\n‚Ä¢ Medan ‚Üí Riau pesisir\n\nAda rute khusus yang Anda cari? Atau mau booking sekarang?"
            ]
        },
        
        harga: {
            patterns: ['harga', 'biaya', 'tarif', 'ongkos', 'berapa', 'price', 'murah', 'mahal', 'budget'],
            responses: [
                "Untuk harga terbaru dan akurat, bisa langsung hubungi kami ya! üí∞\n\nHarga bervariasi tergantung:\n‚úì Rute tujuan\n‚úì Jenis layanan (reguler/door to door)\n‚úì Jumlah penumpang\n‚úì Waktu keberangkatan\n\nüì± Chat WA: 0823-7240-4544\n\nAtau mau saya arahkan ke form booking?"
            ]
        },
        
        // Layanan
        doorToDoor: {
            patterns: ['door to door', 'antar jemput', 'jemput', 'antar', 'alamat', 'rumah'],
            responses: [
                "Layanan Door to Door KeREN Travel:\n\nüè† KEUNTUNGAN:\n‚úì Dijemput dari rumah/lokasi Anda\n‚úì Diantar sampai alamat tujuan\n‚úì Tanpa transit, langsung!\n‚úì Fleksibel waktu\n‚úì Lebih nyaman & privat\n\nüíº Cocok untuk:\n‚Ä¢ Perjalanan keluarga\n‚Ä¢ Bawa barang banyak\n‚Ä¢ Perjalanan bisnis\n\nMau booking? Chat langsung: 0823-7240-4544"
            ]
        },
        
        paket: {
            patterns: ['paket', 'kirim', 'kiriman', 'pengiriman', 'barang', 'dokumen', 'cargo'],
            responses: [
                "Layanan Pengiriman Paket KeREN Travel:\n\nüì¶ LAYANAN:\n‚úì Kirim paket antar kota\n‚úì Dokumen penting\n‚úì Barang titipan\n‚úì Cepat & aman!\n\n‚ö° KEUNGGULAN:\n‚Ä¢ Harga kompetitif\n‚Ä¢ Tracking jelas\n‚Ä¢ Terpercaya\n‚Ä¢ Door to door\n\nInfo lengkap & booking:\nüì± WA: 0823-7240-4544"
            ]
        },
        
        // Booking
        booking: {
            patterns: ['booking', 'pesan', 'reservasi', 'order', 'book', 'beli tiket', 'daftar'],
            responses: [
                "Cara Booking di KeREN Travel MUDAH! üé´\n\nüìù PILIHAN 1 - Form Online:\nScroll ke bawah ‚Üí isi form booking\n\nüí¨ PILIHAN 2 - WhatsApp:\nLangsung chat: 0823-7240-4544\n\nüìã INFO YANG PERLU DISIAPKAN:\n‚Ä¢ Nama lengkap\n‚Ä¢ No. WhatsApp\n‚Ä¢ Lokasi jemput\n‚Ä¢ Tujuan\n‚Ä¢ Tanggal keberangkatan\n‚Ä¢ Jumlah penumpang\n\nMau booking sekarang?"
            ]
        },
        
        waktu: {
            patterns: ['jam', 'waktu', 'kapan', 'berapa lama', 'durasi', 'jadwal', 'berangkat'],
            responses: [
                "Informasi Waktu Perjalanan:\n\n‚è∞ ESTIMASI PERJALANAN:\n‚Ä¢ Medan ‚Üí Padang: 12-14 jam\n‚Ä¢ Medan ‚Üí Bukittinggi: 10-12 jam\n‚Ä¢ Medan ‚Üí Pekanbaru: 7-9 jam\n‚Ä¢ Medan ‚Üí Riau pesisir: 5-7 jam\n\nüïê JADWAL KEBERANGKATAN:\nFleksibel! Sesuai permintaan Anda\n\nüì± Tanya jadwal detail:\n0823-7240-4544"
            ]
        },
        
        // Armada
        mobil: {
            patterns: ['mobil', 'kendaraan', 'armada', 'unit', 'innova', 'hiace', 'avanza', 'bus'],
            responses: [
                "Armada KeREN Travel:\n\nüöê JENIS KENDARAAN:\n‚úì Toyota Innova Reborn (terbaru)\n‚úì Toyota Hiace Premium\n‚úì Avanza/Xenia\n‚úì Semua terawat & bersih!\n\n‚≠ê FASILITAS:\n‚Ä¢ AC dingin\n‚Ä¢ Kursi empuk\n‚Ä¢ Audio entertainment\n‚Ä¢ Bersih & wangi\n‚Ä¢ Driver profesional\n\nMau lihat unit? Chat WA!"
            ]
        },
        
        // Keamanan
        aman: {
            patterns: ['aman', 'keamanan', 'safety', 'bahaya', 'selamat', 'asuransi'],
            responses: [
                "Keamanan di KeREN Travel:\n\nüîí JAMINAN KEAMANAN:\n‚úì Driver berpengalaman & terlatih\n‚úì Kendaraan rutin service\n‚úì Asuransi perjalanan\n‚úì SOP keselamatan ketat\n‚úì 24/7 monitoring\n\n‚úÖ SERTIFIKAT:\n‚Ä¢ Driver punya SIM & KIR lengkap\n‚Ä¢ Kendaraan lolos uji kelayakan\n\nPerjalanan Anda prioritas kami!"
            ]
        },
        
        // Destinasi Wisata
        wisata: {
            patterns: ['wisata', 'tempat', 'destinasi', 'liburan', 'jalan-jalan', 'tour', 'tourism'],
            responses: [
                "Destinasi Wisata Populer di Sumatera:\n\nüèûÔ∏è SUMATERA BARAT:\n‚Ä¢ Jam Gadang Bukittinggi\n‚Ä¢ Ngarai Sianok\n‚Ä¢ Pantai Padang\n‚Ä¢ Danau Maninjau\n‚Ä¢ Istana Pagaruyung\n\nüå¥ RIAU:\n‚Ä¢ Pulau Rupat\n‚Ä¢ Masjid Agung An-Nur\n‚Ä¢ Taman Rekreasi Alam Mayang\n\nüèîÔ∏è SUMUT:\n‚Ä¢ Danau Toba\n‚Ä¢ Istana Maimun\n\nMau tour ke sana? Kita bisa atur!"
            ]
        },
        
        // Promo
        promo: {
            patterns: ['promo', 'diskon', 'potongan', 'cashback', 'voucher', 'kupon'],
            responses: [
                "Info Promo KeREN Travel:\n\nüéÅ PROMO TERBARU:\nUntuk promo spesial dan harga terbaik, langsung chat aja ya!\n\nüí∞ DAPATKAN:\n‚Ä¢ Harga khusus rombongan\n‚Ä¢ Diskon pelanggan setia\n‚Ä¢ Promo hari tertentu\n\nüì± Tanya promo hari ini:\nWA: 0823-7240-4544\n\nJangan sampai kehabisan! üî•"
            ]
        },
        
        // Kontak
        kontak: {
            patterns: ['kontak', 'hubungi', 'telpon', 'telepon', 'whatsapp', 'wa', 'call', 'cs'],
            responses: [
                "Hubungi KeREN Travel:\n\nüì± WHATSAPP:\n0823-7240-4544\n(Fast response!)\n\nüìß EMAIL:\ninfo@kerentravel.com\n\nüåê WEBSITE:\nkerentravel.netlify.app\n\nüìç KANTOR:\nMedan, Sumatera Utara\n\n‚è∞ LAYANAN:\n24/7 siap melayani!\n\nChat sekarang?"
            ]
        },
        
        // Thanks
        thanks: {
            patterns: ['terima kasih', 'thanks', 'makasih', 'tengkyu', 'thx'],
            responses: [
                "Sama-sama! üòä Senang bisa membantu. Ada lagi yang mau ditanyakan?",
                "Terima kasih kembali! üôè Jangan ragu tanya-tanya lagi ya!",
                "You're welcome! ‚ú® Siap membantu kapan saja!"
            ]
        }
    };

    // State management
    let aiIsProcessing = false;

    // DOM elements
    const aiChatToggle = document.getElementById('aiChatToggle');
    const aiChatWindow = document.getElementById('aiChatWindow');
    const aiCloseChat = document.getElementById('aiCloseChat');
    const aiChatForm = document.getElementById('aiChatForm');
    const aiUserInput = document.getElementById('aiUserInput');
    const aiChatMessages = document.getElementById('ai-chat-messages');
    const aiSendBtn = document.getElementById('aiSendBtn');
    const aiQuickButtons = document.getElementById('aiQuickButtons');

// Toggle chat window
aiChatToggle.addEventListener('click', () => {
    aiChatWindow.classList.toggle('hidden');
    aiChatWindow.classList.toggle('flex');
    
    // Lock body scroll on mobile when chat is open
    if (!aiChatWindow.classList.contains('hidden')) {
        document.body.classList.add('chat-open');
        aiUserInput.focus();
    } else {
        document.body.classList.remove('chat-open');
    }
});

aiCloseChat.addEventListener('click', () => {
    aiChatWindow.classList.add('hidden');
    aiChatWindow.classList.remove('flex');
    document.body.classList.remove('chat-open');
});

    // Quick buttons handler
    aiQuickButtons.addEventListener('click', (e) => {
        if (e.target.classList.contains('ai-quick-btn')) {
            const btnText = e.target.textContent.trim();
            let query = '';
            
            if (btnText.includes('Rute')) query = 'rute';
            else if (btnText.includes('Door to Door')) query = 'door to door';
            else if (btnText.includes('Paket')) query = 'kirim paket';
            else if (btnText.includes('Booking')) query = 'cara booking';
            
            if (query) {
                aiUserInput.value = query;
                aiChatForm.dispatchEvent(new Event('submit'));
            }
        }
    });

    // Add message to chat
    function aiAddMessage(content, isUser = false) {
        const messageDiv = document.createElement('div');
        messageDiv.className = `flex gap-3 ${isUser ? 'justify-end' : ''}`;
        
        if (isUser) {
            messageDiv.innerHTML = `
                <div class="bg-gradient-to-r from-yellow-400 to-yellow-500 text-gray-900 rounded-2xl rounded-tr-none p-4 shadow-md max-w-[80%]">
                    <p class="text-sm font-medium">${aiEscapeHtml(content)}</p>
                </div>
                <div class="w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center flex-shrink-0">
                    <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                    </svg>
                </div>
            `;
        } else {
            messageDiv.innerHTML = `
                <div class="w-8 h-8 bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-full flex items-center justify-center flex-shrink-0">
                    <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                    </svg>
                </div>
                <div class="bg-white rounded-2xl rounded-tl-none p-4 shadow-md max-w-[80%] border border-yellow-200">
                    <p class="text-sm text-gray-800 whitespace-pre-line">${aiEscapeHtml(content)}</p>
                </div>
            `;
        }
        
        aiChatMessages.appendChild(messageDiv);
        aiChatMessages.scrollTop = aiChatMessages.scrollHeight;
    }

    // Add typing indicator
    function aiAddTypingIndicator() {
        const typingDiv = document.createElement('div');
        typingDiv.id = 'ai-typing-indicator';
        typingDiv.className = 'flex gap-3';
        typingDiv.innerHTML = `
            <div class="w-8 h-8 bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-full flex items-center justify-center flex-shrink-0">
                <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                </svg>
            </div>
            <div class="bg-white rounded-2xl rounded-tl-none p-4 shadow-md border border-yellow-200">
                <div class="ai-typing-indicator flex gap-1">
                    <span class="w-2 h-2 bg-yellow-400 rounded-full"></span>
                    <span class="w-2 h-2 bg-yellow-400 rounded-full"></span>
                    <span class="w-2 h-2 bg-yellow-400 rounded-full"></span>
                </div>
            </div>
        `;
        aiChatMessages.appendChild(typingDiv);
        aiChatMessages.scrollTop = aiChatMessages.scrollHeight;
    }

    function aiRemoveTypingIndicator() {
        const indicator = document.getElementById('ai-typing-indicator');
        if (indicator) indicator.remove();
    }

    // Escape HTML to prevent XSS
    function aiEscapeHtml(text) {
        const div = document.createElement('div');
        div.textContent = text;
        return div.innerHTML;
    }

    // Smart pattern matching
    function aiGetResponse(userMessage) {
        const message = userMessage.toLowerCase().trim();
        
        // Check each category in knowledge base
        for (const [category, data] of Object.entries(knowledgeBase)) {
            for (const pattern of data.patterns) {
                if (message.includes(pattern)) {
                    // Return random response from array
                    const responses = data.responses;
                    return responses[Math.floor(Math.random() * responses.length)];
                }
            }
        }
        
        // Default response if no match
        return "Maaf, saya kurang paham pertanyaan Anda. üòÖ\n\nCoba tanyakan tentang:\n‚Ä¢ Rute & harga\n‚Ä¢ Layanan door to door\n‚Ä¢ Cara booking\n‚Ä¢ Kirim paket\n\nAtau langsung chat CS kami:\nüì± WA: 0823-7240-4544";
    }

    // Handle form submission
    aiChatForm.addEventListener('submit', async (e) => {
        e.preventDefault();
        
        const message = aiUserInput.value.trim();
        if (!message || aiIsProcessing) return;

        aiIsProcessing = true;
        aiSendBtn.disabled = true;
        
        // Add user message
        aiAddMessage(message, true);
        aiUserInput.value = '';
        
        // Show typing indicator
        aiAddTypingIndicator();
        
        // Simulate thinking delay
        await new Promise(resolve => setTimeout(resolve, 800));
        
        // Get smart response
        const response = aiGetResponse(message);
        
        // Remove typing indicator and show response
        aiRemoveTypingIndicator();
        aiAddMessage(response, false);
        
        aiIsProcessing = false;
        aiSendBtn.disabled = false;
        aiUserInput.focus();
    });

    

    // Enter key handler
    aiUserInput.addEventListener('keydown', function(e) {
        if (e.key === 'Enter' && !e.shiftKey) {
            e.preventDefault();
            aiChatForm.dispatchEvent(new Event('submit'));
        }
    });
})();

// Tambahkan setelah definisi aiCloseChat
const aiMinimizeBtn = document.getElementById('aiMinimizeBtn');

// Handler untuk tombol minimize (mobile)
if (aiMinimizeBtn) {
    aiMinimizeBtn.addEventListener('click', () => {
        aiChatWindow.classList.add('hidden');
        aiChatWindow.classList.remove('flex');
        document.body.classList.remove('chat-open');
    });
}

// Update handler close yang sudah ada dengan haptic feedback
aiCloseChat.addEventListener('click', () => {
    // Haptic feedback untuk mobile (jika support)
    if (navigator.vibrate) {
        navigator.vibrate(50);
    }
    
    aiChatWindow.classList.add('hidden');
    aiChatWindow.classList.remove('flex');
    document.body.classList.remove('chat-open');
});

// Tambahkan di dalam IIFE chatbot script
let touchStartY = 0;
let touchEndY = 0;

aiChatWindow.addEventListener('touchstart', (e) => {
    touchStartY = e.changedTouches[0].screenY;
}, { passive: true });

aiChatWindow.addEventListener('touchend', (e) => {
    touchEndY = e.changedTouches[0].screenY;
    handleSwipe();
}, { passive: true });

function handleSwipe() {
    // Swipe down untuk close (hanya di mobile)
    if (window.innerWidth <= 640) {
        const swipeDistance = touchEndY - touchStartY;
        if (swipeDistance > 100) { // Swipe down > 100px
            aiChatWindow.classList.add('hidden');
            aiChatWindow.classList.remove('flex');
            document.body.classList.remove('chat-open');
        }
    }
}
        </script>
    </body>
    </html>